import re

def transpose(amount, tab):
    pattern = re.compile('[0-9]+')
    for i in range(len(tab)):
        pos = 0
        while True:
            match = pattern.search(tab[i], pos)
            if match:
                # transpose fret
                new_fret = int(match.group(0)) + amount
                tab[i] = tab[i][:match.start()] + \
                                str(new_fret) + \
                                tab[i][match.end():]
                pos = match.start() + len(str(new_fret))
                # shift frets in other lines if necessary
                len_diff = len(str(new_fret)) - len(match.group(0))
                if len_diff > 0:
                    lines = list(range(len(tab)))
                    lines.remove(i)
                    for l in lines:
                        tab[l] = tab[l][:match.start()] + \
                                 '-' * len_diff + \
                                 tab[l][match.start():]
            else:
                break
    return tab
        
        
t = transpose(+2, [
'e|-------5-7-----7-|-8-----8-2-----2-|-0---------0-----|-----------------|',
'B|-----5-----5-----|---5-------3-----|---1---1-----1---|-0-1-1-----------|',
'G|---5---------5---|-----5-------2---|-----2---------2-|-0-2-2-----------|',
'D|-7-------6-------|-5-------4-------|-3---------------|-----------------|',
'A|-----------------|-----------------|-----------------|-2-0-0---0--/8-7-|',
'E|-----------------|-----------------|-----------------|-----------------|'])

print(t)

"""

'e|-------7-9-----9-|-10-----10-4-----4-|-2---------2-----|------------------|'
'B|-----7-----7-----|----7--------5-----|---3---3-----3---|-2-3-3------------|'
'G|---7---------7---|------7--------4---|-----4---------4-|-2-4-4------------|'
'D|-9-------8-------|-7---------6-------|-5---------------|------------------|'
'A|-----------------|-------------------|-----------------|-4-2-2---2--/10-9-|'
'E|-----------------|-------------------|-----------------|------------------|'

"""
